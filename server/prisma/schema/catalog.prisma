model Tag {
  id    String @id @default(uuid()) @db.Uuid
  label String @unique

  figures Figure[]

  @@map("tag")
}

model Reseller {
  id   String @id @default(uuid()) @db.Uuid
  name String @unique
  url  String

  listings FigureListing[]

  @@map("reseller")
}

model Material {
  id   String  @id @default(uuid()) @db.Uuid
  name String  @unique
  url  String?

  figures Figure[]

  @@map("material")
}

model Range {
  id        String @id @default(uuid()) @db.Uuid
  name      String
  editor_id String @db.Uuid

  editor Editor @relation(fields: [editor_id], references: [id])

  figures Figure[]

  @@map("range")
}

model Editor {
  id   String @id @default(uuid()) @db.Uuid
  name String

  ranges  Range[]
  figures Figure[]

  @@map("editor")
}

model Character {
  id         String @id @default(uuid()) @db.Uuid
  name       String
  license_id String @db.Uuid

  license License @relation(fields: [license_id], references: [id])

  figures Figure[]
  medias  Media[]

  @@map("character")
}

model License {
  id   String @id @default(uuid()) @db.Uuid
  name String @unique

  characters Character[]

  createdAt   DateTime @default(now()) @map("created_at")
  updatedAt   DateTime @updatedAt @map("updated_at")

  @@map("license")
}
