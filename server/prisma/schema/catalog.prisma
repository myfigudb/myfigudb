model Reseller {
  id     String @id @default(uuid()) @db.Uuid
  name   String @unique
  domain String @unique
  url    String

  listings FigureListing[]

  @@map("reseller")
}

model Material {
  id   String  @id @default(uuid()) @db.Uuid
  name String  @unique
  url  String?

  figures Figure[]

  @@map("material")
}

model Range {
  id        String @id @default(uuid()) @db.Uuid
  name      String
  editor_id String @db.Uuid

  editor Editor @relation(fields: [editor_id], references: [id])

  figures Figure[]

  @@map("range")
}

model Editor {
  id   String @id @default(uuid()) @db.Uuid
  name String

  ranges  Range[]
  figures Figure[]

  @@map("editor")
}

model Character {
  id         String @id @default(uuid()) @db.Uuid
  name       String
  license_id String @db.Uuid

  license License @relation(fields: [license_id], references: [id])

  figures Figure[]
  medias  Media[]

  @@map("character")
}

model License {
  id   String @id @default(uuid()) @db.Uuid
  name String @unique

  characters Character[]

  created_at DateTime @default(now())
  updated_at DateTime @updatedAt

  @@map("license")
}
