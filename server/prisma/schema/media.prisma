model Media {
  hash      String @id
  mime_type String
  extension String
  folder    String @default("uploads")

  origin_url String?

  created_at DateTime @default(now())
  updated_at DateTime @updatedAt

  characters Character[]

  figureMedias FigureMedia[]

  @@map("media")
}

model FigureMedia {
  figure_id  String @db.Uuid
  media_hash String

  is_primary Boolean @default(false)
  order      Int     @default(0)

  figure Figure @relation(fields: [figure_id], references: [id])
  media  Media  @relation(fields: [media_hash], references: [hash])

  @@id([figure_id, media_hash])
  @@map("figure_media")
}
